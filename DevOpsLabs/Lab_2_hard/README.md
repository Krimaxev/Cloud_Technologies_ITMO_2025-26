# Отчет по лабораторной работе №2* (со звездочкой)
## Цель работы
### Научиться работать с docker-compose, изучить "плохие" и "хорошие" практики, а также научиться настраивать сетевую изоляцию между контейнерами.
## Ход работы
### 1. Описание программы
#### Данная программа на языке Python, в отличие от предыдущей лабы, вместо единиц и нулей выводит "X" и "О", также используется библиотека time для замедления вывода.
![Снимок экрана 2025-12-25 в 14.35.00.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-25%20%D0%B2%2014.35.00.png)
### 2. "Плохой" docker-compose
![Снимок экрана 2025-12-25 в 15.42.55.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-25%20%D0%B2%2015.42.55.png)
#### Сборка:
![Снимок экрана 2025-12-25 в 15.47.08.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-25%20%D0%B2%2015.47.08.png)
### 3. "Хороший" docker-compose
![Снимок экрана 2025-12-25 в 15.57.03.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-25%20%D0%B2%2015.57.03.png)
#### Сборка
![Снимок экрана 2025-12-25 в 15.59.31.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-25%20%D0%B2%2015.59.31.png)
### 4. Описание "плохих" практик и их исправлений 
#### 4.1 Использование version: "3"
##### Атрибут "version" устарел в новых версиях Docker Compose. Более того, Docker сам выдаёт предупреждение: "the attribute version is obsolete". В "хорошем" docker-compose файле этой строчки нет.
#### 4.2 Использование "privileged: true"
##### Нарушается главный принцип контейнеров — изоляцию. Если внутри окажется вредоносный код — он получит контроль над системой. Без крайней необходимости лучше не использовать, в "хорошем" compose-файле нет в этом необходимости.
#### 4.3 Отсутствие ограничений ресурсов
##### Контейнер может потребить всю память сервера. Также он может может загрузить CPU на 100 процентов. Один "сломанный" контейнер уронит всю систему и другие контейнеры и приложения перестанут работать. В хорошем docker-compose есть лимит в 256М.
#### 4.4 Общая сеть
#####  Проблема в том, что все контейнеры "видят" друг друга: если один контейнер взломан — злоумышленник может атаковать остальные. В хорошем docker-compose настроена сетевая изоляция.

### 5. Настройка сетевой изоляции
#### Каждая программа находится в своей сети
![Снимок экрана 2025-12-25 в 16.00.33.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-25%20%D0%B2%2016.00.33.png)
#### Решил сделать проверку: зайти в 1 контейнер и попробовать соединиться со вторым контейнером.
![Снимок экрана 2025-12-25 в 16.13.28.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-25%20%D0%B2%2016.13.28.png)
## Вывод
#### В результате выполнения данной лабораторной работы мы научились писать compose файлы, изучили "плохие" и "хорошие" практики, а также научились изолировать контейнеры друг от друга.
