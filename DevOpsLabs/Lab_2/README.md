# Отчет по лабораторной работе №2 (обычная)

## Цель работы
### Научиться работать с docker-файлами и контейнерами, а также изучить плохие и хорошие практики по работе с docker-файлами и контейнерами.

## Ход работы
### 1. Описание программы
![Снимок экрана 2025-12-25 в 00.11.10.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-25%20%D0%B2%2000.11.10.png)
##### Данная программа, реализованная на Python, сначала считает число, переводит его в двоичную систему счисления, а затем 100 раз его выводит, при этом каждый вывод задерживается на одну секунду. 
### 2. Плохой Dockerfile
![bad_dockerfile.png](images/bad_dockerfile.png)


### 3. Хороший Dockerfile
![good_dockerfile.png](images/good_dockerfile.png)
#### Сборка
![Снимок экрана 2025-12-24 в 23.12.44.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-24%20%D0%B2%2023.12.44.png)
### 4. Сравнение результатов
![Снимок экрана 2025-12-24 в 23.18.54.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-24%20%D0%B2%2023.18.54.png)
##### Показаны затраты памяти при запуске плохого и хорошего docker-файла. Разница конечно существенная)

### 5. Описание плохих практик в Dockerfile

#### 5.1. Использование тега latest
##### latest – это указатель на самый свежий образ. В первое время может работать после сборки, но с момента выхода новой версии все ломается. Чтобы такого не было лучше указывать конкретную версию, что и исправлено в хорошем docker-файле.

#### 5.2. ADD вместо COPY
##### ADD позволяет копировать файлы, автоматически распаковывает архивы и скачивает файлы по URL. Проблема в том, что так может скачаться вредоносный файл. COPY только копирует файлы из папки в образ, поэтому безопаснее использовать его, как и сделано в "хорошем" docker-файле. 

#### 5.3. Запуск от root
##### Если в docker-файле нет USER, как в "плохом" docker-файле, то контейнер работает от root. Почему это плохая практика? Во-первых, если злоумышленник взламывает приложение, то у него сразу появляются права супер-пользователя. Во-вторых,баг в коде может сломать системные файлы контейнера. Если прописан USER, как в "хорошем" docker-файле то данные риски сразу снижаются. 

### 6. Плохие практики работы с контейнерами

#### 6.1. Запуск без --rm
##### Как показано на данном скриншоте, каждая команда запускает новый контейнер, это занимает больше места на диске и оно быстрее заканчивается и накапливается много мертвых контейнеров, которые не нужны. Чтобы такого не было нужно запускать с "--rm", чтобы контейнер в конце удалялся.
![Снимок экрана 2025-12-24 в 23.29.22.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-24%20%D0%B2%2023.29.22.png)
##### Вот к чему это приводит:
![Снимок экрана 2025-12-24 в 23.31.22.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-24%20%D0%B2%2023.31.22.png)
#### 6.2. Запуск с --privileged
##### Отключает всю изоляцию контейнера, Контейнер так получает полный доступ ко всем устройствам хост-системы. Так с помощью вредоносного кода злоумышленник может получить контроль над всей системой.
#### Без:
![Снимок экрана 2025-12-24 в 23.52.52.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-24%20%D0%B2%2023.52.52.png)
#### С:
![Снимок экрана 2025-12-24 в 23.53.29.png](images/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202025-12-24%20%D0%B2%2023.53.29.png)

## Вывод
### В данной лабораторной работе мы познакомились и научились писать простые docker-файлы, познакомились с плохими и хорошими практиками. Также мы изучили как нужно правильно работать с контейнерами, ведь безопасность важна везде.
